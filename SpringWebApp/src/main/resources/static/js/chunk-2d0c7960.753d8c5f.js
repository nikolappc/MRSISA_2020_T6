(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7960"],{"50f5":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",[r("h2",[e._v("Lista lekara")]),r("v-text-field",{attrs:{label:"Pretraga","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(a){e.search=a},expression:"search"}}),r("v-simple-table",{attrs:{border:"1"}},[r("thead",[r("th",[e._v("Ime")]),r("th",[e._v("Prezime")]),r("th",[e._v("Adresa")]),r("th",[e._v("Broj Telefona")]),r("th")]),r("tbody",e._l(e.filterLekari,(function(a){return r("Lekar",{key:a.id,attrs:{lekar:a},on:{"del-lekar":e.deleteLekar,otvori:e.otvoriDialog}})})),1),r("tr",[r("td",{attrs:{align:"right",colspan:"4"}},[r("v-btn",{staticClass:"blue",attrs:{slot:"action",to:{path:"lekar/add"},dark:"",medium:"",left:""},slot:"action"},[e._v("Dodaj lekara")])],1)])]),r("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialog,callback:function(a){e.dialog=a},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"headline"},[e._v("Izmeni lekara")]),r("IzmenaLekara",{attrs:{lekar:e.dialogLekar},on:{zatvori:function(a){e.dialog=!1}}})],1)],1)],1)},l=[],i=(r("4de4"),r("ac1f"),r("466d"),r("841c"),r("5530")),o=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("tr",[r("td",{on:{click:e.otvoriDialog}},[e._v(e._s(e.lekar.ime))]),r("td",{on:{click:e.otvoriDialog}},[e._v(e._s(e.lekar.prezime))]),r("td",{on:{click:e.otvoriDialog}},[e._v(e._s(e.toStringAdresa(e.lekar)))]),r("td",{on:{click:e.otvoriDialog}},[e._v(e._s(e.lekar.brojTelefona))]),r("td",[r("v-btn",{attrs:{icon:""},on:{click:e.deleteLekar}},[r("v-icon",[e._v("mdi-delete")])],1)],1)])},n=[],s=r("bc3a"),c=r.n(s),d={props:["lekar"],methods:{toStringAdresa:function(e){return e.adresa.adresa+", "+e.adresa.grad+", "+e.adresa.drzava},deleteLekar:function(){var e=this;c.a.delete("lekar/"+this.lekar.id).then((function(){e.$store.commit("setSnackbar",{text:"Uspešno ste obrisali lekara",color:"success"}),e.$emit("del-lekar",e.lekar.id)})).catch((function(){e.$store.commit("setSnackbar",{text:"Lekar ima zakazan pregled. Nije moguće brisanje",color:"error"})}))},otvoriDialog:function(){this.$emit("otvori",this.lekar.id)}}},u=d,k=r("2877"),m=r("6544"),f=r.n(m),v=r("8336"),b=r("132d"),p=Object(k["a"])(u,o,n,!1,null,null,null),h=p.exports;f()(p,{VBtn:v["a"],VIcon:b["a"]});var g=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("v-form",{ref:"form",model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[r("v-text-field",{attrs:{rules:e.rule,label:"Ime",required:""},model:{value:e.lekar.ime,callback:function(a){e.$set(e.lekar,"ime",a)},expression:"lekar.ime"}}),r("v-text-field",{attrs:{rules:e.rule,label:"E-mail",required:""},model:{value:e.lekar.email,callback:function(a){e.$set(e.lekar,"email",a)},expression:"lekar.email"}}),r("v-text-field",{attrs:{rules:e.rule,label:"Prezime",required:""},model:{value:e.lekar.prezime,callback:function(a){e.$set(e.lekar,"prezime",a)},expression:"lekar.prezime"}}),r("v-text-field",{attrs:{type:"password",rules:e.rule,label:"Password",required:""},model:{value:e.lekar.password,callback:function(a){e.$set(e.lekar,"password",a)},expression:"lekar.password"}}),r("v-text-field",{attrs:{label:"Broj Telefona",rules:e.rule,required:""},model:{value:e.lekar.brojTelefona,callback:function(a){e.$set(e.lekar,"brojTelefona",a)},expression:"lekar.brojTelefona"}}),r("v-text-field",{attrs:{label:"Adresa",rules:e.rule,required:""},model:{value:e.lekar.adresa,callback:function(a){e.$set(e.lekar,"adresa",a)},expression:"lekar.adresa"}}),r("v-text-field",{attrs:{label:"Jedinstveni broj osiguranika",rules:e.rule,required:""},model:{value:e.lekar.jbo,callback:function(a){e.$set(e.lekar,"jbo",a)},expression:"lekar.jbo"}}),r("v-btn",{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.izmeniLekara}},[e._v(" Izmeni lekara ")])],1)},x=[],z=r("a18c"),j={name:"AddLekar",props:["lekar"],data:function(){return{valid:!0,rule:[function(e){return!!e||"Obavezno polje"}],emailRules:[function(e){return!!e||"E-mail je obavezan"},function(e){return/.+@.+\..+/.test(e)||"E-mail mora biti u formi pera@domen.com"}],passwordRules:[function(e){return!!e||"Password je obavezno polje"}]}},methods:{izmeniLekara:function(e){var a=this;e.preventDefault(),c.a.put("lekar/"+this.lekar.id,this.lekar).then((function(){a.$store.commit("setSnackbar",{text:"Lekar je uspešno izmenjen",color:"success"}),z["a"].go()})).catch((function(){a.$store.commit("setSnackbar",{text:"Lekar ima zakazan termin. Nije moguća izmena",color:"error"}),a.$emit("zatvori")}))}}},_=j,L=r("4bd4"),$=r("8654"),w=Object(k["a"])(_,g,x,!1,null,null,null),V=w.exports;f()(w,{VBtn:v["a"],VForm:L["a"],VTextField:$["a"]});var D={data:function(){return{lekari:[],dialog:!1,dialogLekar:null,search:""}},mounted:function(){var e=this;c.a.get("lekar").then((function(a){e.lekari=a.data,console.log(a)})).catch((function(){e.lekari=[{ime:"pera",prezime:""}]}))},components:{Lekar:h,IzmenaLekara:V},methods:{deleteLekar:function(e){this.lekari=this.lekari.filter((function(a){return a.id!==e}))},otvoriDialog:function(e){this.dialogLekar=Object(i["a"])({},this.lekari.filter((function(a){return a.id===e}))[0]),this.dialog=!0}},computed:{filterLekari:function(){var e=this;return this.lekari.filter((function(a){return!!a.ime.match(e.search)||a.prezime==e.search}))}}},T=D,q=r("b0af"),I=r("99d9"),S=r("169a"),E=r("1f4f"),A=Object(k["a"])(T,t,l,!1,null,null,null);a["default"]=A.exports;f()(A,{VBtn:v["a"],VCard:q["a"],VCardTitle:I["c"],VDialog:S["a"],VSimpleTable:E["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-2d0c7960.753d8c5f.js.map