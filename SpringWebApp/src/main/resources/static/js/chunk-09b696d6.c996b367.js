(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09b696d6"],{"3927f":function(a,e,t){"use strict";var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-form",{ref:"form",model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[t("v-text-field",{attrs:{rules:a.nazivRules,label:"Naziv",required:""},model:{value:a.sala.naziv,callback:function(e){a.$set(a.sala,"naziv",e)},expression:"sala.naziv"}}),t("v-btn",{staticClass:"mr-4",attrs:{disabled:!a.valid,color:"success"},on:{click:a.izmeniSalu}},[a._v(" Izmeni salu ")])],1)},i=[],n=t("bc3a"),o=t.n(n),r=t("a18c"),s={name:"IzmenaSale",props:["sala"],data:function(){return{valid:!0,nazivRules:[function(a){return!!a||"Naziv je obavezno polje"}]}},methods:{izmeniSalu:function(a){var e=this;a.preventDefault(),o.a.put("sala/"+this.sala.id,this.sala).then((function(){e.$store.commit("setSnackbar",{text:"Sala je uspešno izmenjena",color:"success"}),r["a"].go()})).catch((function(){e.$store.commit("setSnackbar",{text:"Sala ima zauzet termin",color:"error"}),e.$emit("zatvori")}))}}},c=s,d=t("2877"),u=t("6544"),v=t.n(u),f=t("8336"),m=t("4bd4"),h=t("8654"),p=Object(d["a"])(c,l,i,!1,null,null,null);e["a"]=p.exports;v()(p,{VBtn:f["a"],VForm:m["a"],VTextField:h["a"]})},4581:function(a,e,t){"use strict";var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("tr",[t("td",{on:{click:a.otvoriDialog}},[a._v(a._s(a.sala.id))]),t("td",{on:{click:a.otvoriDialog}},[a._v(a._s(a.sala.naziv))]),t("td",[t("v-btn",{on:{click:function(e){a.dialog=!0}}},[a._v("Kalendar")])],1),t("v-dialog",{attrs:{"max-width":"600"},model:{value:a.dialog,callback:function(e){a.dialog=e},expression:"dialog"}},[t("v-card",[t("Kalendar",{attrs:{events:a.termini}})],1)],1),t("td",[t("v-btn",{attrs:{icon:""},on:{click:a.deleteSala}},[t("v-icon",[a._v("mdi-delete")])],1)],1)],1)},i=[],n=t("bc3a"),o=t.n(n),r=t("3927"),s={data:function(){return{dialog:!1}},props:["sala","termini"],methods:{deleteSala:function(){var a=this;o.a.delete("sala/"+this.sala.id).then((function(){a.$store.commit("setSnackbar",{text:"Uspešno ste obrisali salu",color:"success"}),a.$emit("del-sala",a.sala.id)})).catch((function(){a.$store.commit("setSnackbar",{text:"Sala se već koristi u pregledu",color:"error"})}))},otvoriDialog:function(){this.$emit("otvori",this.sala.id)}},components:{Kalendar:r["a"]}},c=s,d=t("2877"),u=t("6544"),v=t.n(u),f=t("8336"),m=t("b0af"),h=t("169a"),p=t("132d"),g=Object(d["a"])(c,l,i,!1,null,null,null);e["a"]=g.exports;v()(g,{VBtn:f["a"],VCard:m["a"],VDialog:h["a"],VIcon:p["a"]})},b7eb:function(a,e,t){"use strict";t.r(e);var l=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",[t("h2",[a._v("Lista sala")]),t("v-text-field",{attrs:{label:"Pretraga","append-icon":"mdi-magnify"},model:{value:a.search,callback:function(e){a.search=e},expression:"search"}}),t("v-simple-table",{attrs:{border:"1"}},[t("thead",[t("th",[a._v("ID")]),t("th",[a._v("Naziv")]),t("th")]),t("tbody",[a._l(a.filterSale,(function(e){return t("Sala",{key:e.id,attrs:{sala:e.sala,termini:e.posete},on:{click:function(e){a.dialog=!0},"del-sala":a.deleteSala,otvori:a.otvoriDialog}})})),t("v-dialog",{attrs:{"max-width":"290"},model:{value:a.dialog,callback:function(e){a.dialog=e},expression:"dialog"}})],2),t("tr",[t("td",{attrs:{align:"right",colspan:"4"}},[t("v-btn",{staticClass:"blue",attrs:{slot:"action",to:{path:"sala/add"},dark:"",medium:"",left:""},slot:"action"},[a._v("Dodaj salu")])],1)])]),null!=a.pregled.lekar?t("v-select",{attrs:{items:a.lekari,label:"Lekar",dense:"",outlined:"","return-object":""},scopedSlots:a._u([{key:"selection",fn:function(e){return[a._v(" "+a._s(e.item.ime)+" "+a._s(e.item.prezime)+" ")]}},{key:"item",fn:function(e){return[a._v(" "+a._s(e.item.ime)+" "+a._s(e.item.prezime)+" ")]}}],null,!1,3924163644),model:{value:a.pregled.lekar,callback:function(e){a.$set(a.pregled,"lekar",e)},expression:"pregled.lekar"}}):a._e(),t("v-dialog",{attrs:{"max-width":"500"},model:{value:a.dialog,callback:function(e){a.dialog=e},expression:"dialog"}},[t("v-card",[t("v-card-title",{staticClass:"headline"},[a._v("Izmeni salu")]),t("IzmenaSale",{attrs:{sala:a.dialogSala},on:{zatvori:function(e){a.dialog=!1}}})],1)],1)],1)},i=[],n=(t("4de4"),t("7db0"),t("ac1f"),t("466d"),t("841c"),t("5530")),o=t("b85c"),r=t("4581"),s=t("bc3a"),c=t.n(s),d=t("3927f");function u(a){var e,t=Object(o["a"])(a);try{for(t.s();!(e=t.n()).done;){var l,i=e.value,n=Object(o["a"])(i.posete);try{for(n.s();!(l=n.n()).done;){var r=l.value;r.start=v(r.start),r.end=v(r.end)}}catch(s){n.e(s)}finally{n.f()}}}catch(s){t.e(s)}finally{t.f()}return a}function v(a){return a.substring(0,10)+" "+a.substring(11,16)}var f={data:function(){return{sale:[],dialog:!1,dialogSala:null,search:"",pregled:{lekar:null},lekari:[],pocetak:null,kraj:null}},mounted:function(){var a=this,e=this.$route.params.id;c.a.get("sala/DTO").then((function(e){a.sale=u(e.data),console.log(e)})).catch((function(){a.sale=[{posete:[],sala:{id:"1",naziv:"Neka klinika"}}]})),void 0!==e&&c.a.get("adminKlinike/pregled/"+e).then((function(e){a.pregled=e.data,console.log(e),c.a.get("lekar").then((function(e){for(var t in a.lekari=e.data,a.lekari)if(a.lekari[t].id==a.pregled.lekar.id){a.lekari[t]=a.pregled.lekar;break}console.log(e)})).catch((function(){a.lekari=[{ime:"pera",prezime:""}]}))})).catch((function(){a.sale=[{posete:[],sala:{id:"1",naziv:"Neka klinika"}}]}))},components:{Sala:r["a"],IzmenaSale:d["a"]},computed:{filterSale:function(){var a=this;return this.sale.filter((function(e){return!!e.sala.naziv.match(a.search)||e.sala.id==a.search}))}},methods:{deleteSala:function(a){this.sale=this.sale.filter((function(e){return e.sala.id!==a}))},otvoriDialog:function(a){var e=this;if(null==this.pregled.lekar)this.dialogSala=Object(n["a"])({},this.sale.filter((function(e){return e.sala.id===a}))[0].sala),this.dialog=!0;else{var t=this.sale.find((function(e){return e.sala.id==a}));console.log(t),this.pregled.sala=t.sala;var l=this.$route.params.id;c.a.put("adminKlinike/pregled/"+l,this.pregled).then((function(a){console.log(a),e.$store.commit("setSnackbar",{text:"Termin je uspesno zakazan",color:"success"}),e.$router.go("/sale")})).catch((function(a){console.log(a),e.$store.commit("setSnackbar",{text:"Termin je zauzet",color:"error"})}))}}}},m=f,h=t("2877"),p=t("6544"),g=t.n(p),k=t("8336"),b=t("b0af"),z=t("99d9"),S=t("169a"),_=t("b974"),x=t("1f4f"),$=t("8654"),j=Object(h["a"])(m,l,i,!1,null,null,null);e["default"]=j.exports;g()(j,{VBtn:k["a"],VCard:b["a"],VCardTitle:z["c"],VDialog:S["a"],VSelect:_["a"],VSimpleTable:x["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-09b696d6.c996b367.js.map