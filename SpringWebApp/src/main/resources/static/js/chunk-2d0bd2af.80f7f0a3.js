(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0bd2af"],{"2b9b":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("h2",[t._v("Lista tipova")]),e("v-text-field",{attrs:{label:"Pretraga","append-icon":"mdi-magnify"},model:{value:t.search,callback:function(i){t.search=i},expression:"search"}}),e("v-simple-table",{attrs:{border:"1"}},[e("thead",[e("th",[t._v("Naziv")]),e("th",[t._v("Tip (Din/h)")]),e("th",[t._v("Cena")]),e("th")]),e("tbody",t._l(t.filterTip,(function(i){return e("Tip",{key:i.id,attrs:{tip:i},on:{"del-tip":t.deleteTip,otvori:t.otvoriDialog}})})),1),e("tr",[e("td",{attrs:{align:"right",colspan:"4"}},[e("v-btn",{staticClass:"blue",attrs:{slot:"action",to:{path:"/tipoviPoseta/add"},dark:"",medium:"",left:""},slot:"action"},[t._v("Dodaj tip")])],1)])]),e("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(i){t.dialog=i},expression:"dialog"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Izmeni tip")]),e("IzmenaTipa",{attrs:{tip:t.dialogTip},on:{zatvori:function(i){t.dialog=!1}}})],1)],1)],1)},n=[],o=(e("4de4"),e("ac1f"),e("466d"),e("841c"),e("5530")),l=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("tr",[e("td",{on:{click:t.otvoriDialog}},[t._v(t._s(t.tip.naziv))]),e("td",{on:{click:t.otvoriDialog}},[t._v(t._s(t.tip.tip))]),e("td",{on:{click:t.otvoriDialog}},[t._v(t._s(t.tip.stavkaCenovnika.cena))]),e("td",[e("v-btn",{attrs:{icon:""},on:{click:t.deleteTip}},[e("v-icon",[t._v("mdi-delete")])],1)],1)])},r=[],c=e("bc3a"),s=e.n(c),p={props:["tip"],methods:{deleteTip:function(){var t=this;s.a.delete("tip/"+this.tip.id).then((function(){t.$store.commit("setSnackbar",{text:"Uspešno ste obrisali tipa",color:"success"}),t.$emit("del-tip",t.tip.id)})).catch((function(i){console.log(i),t.$store.commit("setSnackbar",{text:"Tip se koristi na poseti",color:"error"})}))},otvoriDialog:function(){this.$emit("otvori",this.tip.id)}}},d=p,v=e("2877"),u=e("6544"),f=e.n(u),m=e("8336"),h=e("132d"),b=Object(v["a"])(d,l,r,!1,null,null,null),k=b.exports;f()(b,{VBtn:m["a"],VIcon:h["a"]});var g=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-form",{ref:"form",model:{value:t.valid,callback:function(i){t.valid=i},expression:"valid"}},[e("v-text-field",{attrs:{rules:t.imeRules,label:"Naziv",required:""},model:{value:t.tip.naziv,callback:function(i){t.$set(t.tip,"naziv",i)},expression:"tip.naziv"}}),e("v-select",{attrs:{items:["operacija","pregled"],label:"Tip",dense:"",outlined:""},model:{value:t.tip.tip,callback:function(i){t.$set(t.tip,"tip",i)},expression:"tip.tip"}}),e("v-text-field",{attrs:{rules:t.cenaRules,label:"Cena",required:""},model:{value:t.tip.stavkaCenovnika.cena,callback:function(i){t.$set(t.tip.stavkaCenovnika,"cena",i)},expression:"tip.stavkaCenovnika.cena"}}),e("v-btn",{staticClass:"mr-4",attrs:{disabled:!t.valid,color:"success"},on:{click:t.izmeniTip}},[t._v(" Izmeni tip ")])],1)},T=[],_=e("a18c"),z={name:"AddLekar",props:["tip"],data:function(){return{valid:!0,imeRules:[function(t){return!!t||"Ime je obavezno polje"}],cenaRules:[function(t){return!!t||"Obavezno polje"},function(t){return parseFloat(t)>0||"Polje mora biti pozitivan broj"}]}},methods:{izmeniTip:function(t){var i=this;t.preventDefault(),s.a.put("tip/"+this.tip.id,this.tip).then((function(){i.$store.commit("setSnackbar",{text:"Tip je uspešno izmenjen",color:"success"}),_["a"].go()})).catch((function(t){console.log(t),i.$store.commit("setSnackbar",{text:"Tip se koristi na pregledu",color:"error"}),i.$emit("zatvori")}))}}},x=z,j=e("4bd4"),C=e("b974"),$=e("8654"),V=Object(v["a"])(x,g,T,!1,null,null,null),D=V.exports;f()(V,{VBtn:m["a"],VForm:j["a"],VSelect:C["a"],VTextField:$["a"]});var w={data:function(){return{tipovi:[],dialog:!1,dialogTip:null,search:""}},mounted:function(){var t=this;s.a.get("tip").then((function(i){t.tipovi=i.data,console.log(i)})).catch((function(){t.tipovi=[{naziv:"pera",tip:"operacija",stavkaCenovnika:{cena:20}}]}))},components:{Tip:k,IzmenaTipa:D},methods:{deleteTip:function(t){this.tipovi=this.tipovi.filter((function(i){return i.id!==t}))},otvoriDialog:function(t){this.dialogTip=Object(o["a"])({},this.tipovi.filter((function(i){return i.id===t}))[0]),this.dialog=!0}},computed:{filterTip:function(){var t=this;return this.tipovi.filter((function(i){return!!i.naziv.match(t.search)||(!!i.tip.match(t.search)||!!(i.stavkaCenovnika.cena+"").match(t.search))}))}}},I=w,S=e("b0af"),O=e("99d9"),F=e("169a"),R=e("1f4f"),y=Object(v["a"])(I,a,n,!1,null,null,null);i["default"]=y.exports;f()(y,{VBtn:m["a"],VCard:S["a"],VCardTitle:O["c"],VDialog:F["a"],VSimpleTable:R["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-2d0bd2af.80f7f0a3.js.map