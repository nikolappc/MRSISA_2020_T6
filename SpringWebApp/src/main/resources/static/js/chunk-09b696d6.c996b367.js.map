{"version":3,"sources":["webpack:///./src/views/sala/IzmenaSale.vue?c5d2","webpack:///src/views/sala/IzmenaSale.vue","webpack:///./src/views/sala/IzmenaSale.vue?87a3","webpack:///./src/views/sala/IzmenaSale.vue","webpack:///./src/views/sala/Sala.vue?cabf","webpack:///src/views/sala/Sala.vue","webpack:///./src/views/sala/Sala.vue?ecbe","webpack:///./src/views/sala/Sala.vue","webpack:///./src/views/sala/DodelaSala.vue?a6e0","webpack:///src/views/sala/DodelaSala.vue","webpack:///./src/views/sala/DodelaSala.vue?3adf","webpack:///./src/views/sala/DodelaSala.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","model","value","callback","$$v","valid","expression","attrs","nazivRules","sala","$set","staticClass","on","izmeniSalu","_v","staticRenderFns","component","VBtn","VForm","VTextField","otvoriDialog","_s","id","naziv","$event","dialog","termini","deleteSala","VCard","VDialog","VIcon","search","_l","key","posete","path","slot","pregled","lekar","lekari","scopedSlots","_u","fn","data","item","ime","prezime","_e","dialogSala","VCardTitle","VSelect","VSimpleTable"],"mappings":"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","file":"js/chunk-09b696d6.c996b367.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-form',{ref:\"form\",model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-text-field',{attrs:{\"rules\":_vm.nazivRules,\"label\":\"Naziv\",\"required\":\"\"},model:{value:(_vm.sala.naziv),callback:function ($$v) {_vm.$set(_vm.sala, \"naziv\", $$v)},expression:\"sala.naziv\"}}),_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":!_vm.valid,\"color\":\"success\"},on:{\"click\":_vm.izmeniSalu}},[_vm._v(\" Izmeni salu \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-form\n    ref=\"form\"\n    v-model=\"valid\"\n  >\n    <v-text-field\n      v-model=\"sala.naziv\"\n      :rules=\"nazivRules\"\n      label=\"Naziv\"\n      required\n    ></v-text-field>\n    <v-btn\n      :disabled=\"!valid\"\n      color=\"success\"\n      class=\"mr-4\"\n      @click=\"izmeniSalu\"\n    >\n      Izmeni salu\n    </v-btn>\n\n  </v-form>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport router from \"../../router/index.js\"\nexport default {\n    name: 'IzmenaSale',\n    props: [\"sala\"],\n    data: function() { return {\n      valid: true,\n      nazivRules: [\n        v => !!v || 'Naziv je obavezno polje'\n      ]\n    }\n    },\n    methods: {\n        izmeniSalu: function(event) {\n            event.preventDefault();\n            axios\n            .put('sala/'+this.sala.id,this.sala)\n            .then(() => {\n                this.$store.commit(\"setSnackbar\", {text:\"Sala je uspešno izmenjena\", color: \"success\"});\n                router.go();\n                \n            })\n            .catch( () => { this.$store.commit(\"setSnackbar\", {text:\"Sala ima zauzet termin\", color: \"error\"}); \n            this.$emit(\"zatvori\");});\n        }\n\n    }\n    \n}\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IzmenaSale.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IzmenaSale.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IzmenaSale.vue?vue&type=template&id=216bf092&\"\nimport script from \"./IzmenaSale.vue?vue&type=script&lang=js&\"\nexport * from \"./IzmenaSale.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VForm,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{on:{\"click\":_vm.otvoriDialog}},[_vm._v(_vm._s(_vm.sala.id))]),_c('td',{on:{\"click\":_vm.otvoriDialog}},[_vm._v(_vm._s(_vm.sala.naziv))]),_c('td',[_c('v-btn',{on:{\"click\":function($event){_vm.dialog = true}}},[_vm._v(\"Kalendar\")])],1),_c('v-dialog',{attrs:{\"max-width\":\"600\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('Kalendar',{attrs:{\"events\":_vm.termini}})],1)],1),_c('td',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.deleteSala}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <tr>\n      <td @click=\"otvoriDialog\">{{sala.id}}</td>\n      <td @click=\"otvoriDialog\">{{sala.naziv}}</td>\n      <td><v-btn @click=\"dialog = true\">Kalendar</v-btn></td>\n      <v-dialog\n                v-model=\"dialog\"\n                max-width=\"600\"\n                >\n                <v-card>\n                    <Kalendar v-bind:events=\"termini\"/>\n                </v-card>\n                \n      </v-dialog>\n      <td><v-btn icon @click=\"deleteSala\"><v-icon>mdi-delete</v-icon></v-btn></td>\n  </tr>\n  \n</template>\n\n<script>\nimport axios from \"axios\";\nimport Kalendar from \"./Kalendar.vue\";\nexport default {\n    data: () => ({\n        dialog : false\n    }),\n    props: [\"sala\",\"termini\"],\n    methods: {\n      deleteSala: function(){\n        axios\n            .delete('sala/'+this.sala.id)\n            .then(() => {\n                this.$store.commit(\"setSnackbar\", {text:\"Uspešno ste obrisali salu\", color: \"success\"});\n                this.$emit(\"del-sala\",this.sala.id);\n            })\n            .catch(() => { this.$store.commit(\"setSnackbar\", {text:\"Sala se već koristi u pregledu\", color: \"error\"});\n\n            });\n      },\n      otvoriDialog: function(){\n          this.$emit(\"otvori\",this.sala.id);\n      }\n    },\n    components: {\n        Kalendar\n    }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sala.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sala.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Sala.vue?vue&type=template&id=7d52a790&\"\nimport script from \"./Sala.vue?vue&type=script&lang=js&\"\nexport * from \"./Sala.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VCard,VDialog,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Lista sala\")]),_c('v-text-field',{attrs:{\"label\":\"Pretraga\",\"append-icon\":\"mdi-magnify\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-simple-table',{attrs:{\"border\":\"1\"}},[_c('thead',[_c('th',[_vm._v(\"ID\")]),_c('th',[_vm._v(\"Naziv\")]),_c('th')]),_c('tbody',[_vm._l((_vm.filterSale),function(sala){return _c('Sala',{key:sala.id,attrs:{\"sala\":sala.sala,\"termini\":sala.posete},on:{\"click\":function($event){_vm.dialog = true},\"del-sala\":_vm.deleteSala,\"otvori\":_vm.otvoriDialog}})}),_c('v-dialog',{attrs:{\"max-width\":\"290\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}})],2),_c('tr',[_c('td',{attrs:{\"align\":\"right\",\"colspan\":\"4\"}},[_c('v-btn',{staticClass:\"blue\",attrs:{\"slot\":\"action\",\"to\":{path: 'sala/add'},\"dark\":\"\",\"medium\":\"\",\"left\":\"\"},slot:\"action\"},[_vm._v(\"Dodaj salu\")])],1)])]),(_vm.pregled.lekar != null)?_c('v-select',{attrs:{\"items\":_vm.lekari,\"label\":\"Lekar\",\"dense\":\"\",\"outlined\":\"\",\"return-object\":\"\"},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.ime)+\" \"+_vm._s(data.item.prezime)+\" \")]}},{key:\"item\",fn:function(data){return [_vm._v(\" \"+_vm._s(data.item.ime)+\" \"+_vm._s(data.item.prezime)+\" \")]}}],null,false,3924163644),model:{value:(_vm.pregled.lekar),callback:function ($$v) {_vm.$set(_vm.pregled, \"lekar\", $$v)},expression:\"pregled.lekar\"}}):_vm._e(),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\"Izmeni salu\")]),_c('IzmenaSale',{attrs:{\"sala\":_vm.dialogSala},on:{\"zatvori\":function($event){_vm.dialog = false}}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <h2>Lista sala</h2>\n        <v-text-field\n            v-model=\"search\"\n            label=\"Pretraga\"\n            append-icon=\"mdi-magnify\"\n        ></v-text-field>\n        <v-simple-table border=\"1\">\n            <thead>\n                <th>ID</th>\n                <th>Naziv</th>\n                <th></th>\n            </thead>\n            <tbody>\n                <Sala @click=\"dialog = true\" v-for=\"sala in filterSale\" v-bind:key=\"sala.id\"\n                 v-bind:sala=\"sala.sala\" v-on:del-sala=\"deleteSala\" v-bind:termini=\"sala.posete\"\n                 v-on:otvori=\"otvoriDialog\" />\n                <v-dialog\n                v-model=\"dialog\"\n                max-width=\"290\"\n                >\n                \n                </v-dialog>\n            </tbody>\n            <tr>\n                <td align=\"right\" colspan='4'><v-btn :to=\"{path: 'sala/add'}\" dark medium left class=\"blue\" slot=\"action\">Dodaj salu</v-btn></td>\n            </tr>\n        </v-simple-table>\n\n\n        <v-select\n        v-if=\"pregled.lekar != null\"\n        v-model=\"pregled.lekar\"\n        :items=\"lekari\"\n        label=\"Lekar\"\n        dense\n        outlined\n        return-object\n        >\n            <template slot=\"selection\" slot-scope=\"data\">\n                <!-- HTML that describe how select should render selected items -->\n                {{ data.item.ime }} {{ data.item.prezime }}\n            </template>\n            <template slot=\"item\" slot-scope=\"data\">\n                <!-- HTML that describe how select should render items when the select is open -->\n                {{ data.item.ime }} {{ data.item.prezime }}\n            </template>\n        </v-select>\n\n\n        <v-dialog\n            v-model=\"dialog\"\n            max-width=\"500\"\n            >\n                <v-card>\n                    <v-card-title class=\"headline\">Izmeni salu</v-card-title>\n                        <IzmenaSale  v-bind:sala=\"dialogSala\" v-on:zatvori=\"dialog = false\"/>\n                </v-card>\n        </v-dialog>\n    </div>\n</template>\n\n\n\n\n<script>\n\n    function preurediDatum(sale){\n        for (let sala of sale){\n            for(let termin of sala.posete){\n                termin.start = formatirajDatum(termin.start);\n                termin.end = formatirajDatum(termin.end);\n        }\n    }\n    return sale;\n    }\n    function formatirajDatum(datum){\n        return datum.substring(0, 10) + \" \" + datum.substring(11,16); \n    }\n\nimport Sala from \"./Sala.vue\"\nimport axios from \"axios\"\nimport IzmenaSale from \"./IzmenaSale.vue\"\nexport default {\n    data: () => {\n        return {\n        sale : [],\n        dialog : false,\n        dialogSala: null,\n        search: '',\n        pregled: {lekar: null},\n        lekari: [],\n        pocetak: null,\n        kraj: null,}\n    },\n    mounted () {\n\n        let pregledID = this.$route.params.id;\n        \n        axios\n        .get('sala/DTO')\n        .then(response => {\n            this.sale = preurediDatum(response.data);\n            console.log(response);\n        })\n        .catch(() => { this.sale = [{posete: [], sala: {id: '1',naziv: 'Neka klinika'}}]; });\n\n        if(pregledID !== undefined){\n            axios\n                .get('adminKlinike/pregled/'+ pregledID)\n                .then(response => {\n                    this.pregled = response.data;\n                    console.log(response);\n\n\n                    axios\n                        .get('lekar')\n                        .then(response => {\n                            this.lekari = response.data;\n                            for(var id in this.lekari){\n                                if(this.lekari[id].id == this.pregled.lekar.id){\n                                    this.lekari[id] = this.pregled.lekar;\n                                    break;\n                                }\n                            }\n                            console.log(response);\n                        })\n                        .catch(() => { this.lekari = [{ime: 'pera',prezime: ''}]; });\n\n\n                })\n                .catch(() => { this.sale = [{posete: [], sala: {id: '1',naziv: 'Neka klinika'}}]; });\n\n            \n        }\n        \n    },\n    components: {\n        Sala,\n        IzmenaSale\n    },\n    computed:{\n        filterSale: function(){\n            return this.sale.filter(sala => {\n                if(sala.sala.naziv.match(this.search)){\n                    return true;\n                }\n                else if(sala.sala.id == this.search){\n                    return true;\n                }\n                return false;\n            })\n        } \n    },\n    methods: {\n        deleteSala: function(id){\n            this.sale = this.sale.filter(sala => sala.sala.id !== id);\n        },\n        otvoriDialog: function(id){\n            if(this.pregled.lekar == null){\n                this.dialogSala = {...this.sale.filter(sala => sala.sala.id === id)[0].sala };\n                this.dialog = true;\n            }\n            else{\n                var sala = this.sale.find(sala => sala.sala.id == id);\n                console.log(sala);\n                this.pregled.sala = sala.sala;\n\n                let pregledID = this.$route.params.id;\n                axios\n                .put('adminKlinike/pregled/'+ pregledID,this.pregled)\n                .then((response) => {\n                    console.log(response);\n                    this.$store.commit(\"setSnackbar\", {text:\"Termin je uspesno zakazan\", color: \"success\"});\n                    this.$router.go(\"/sale\");\n                })\n                .catch((err) => { \n                    console.log(err);\n                    this.$store.commit(\"setSnackbar\", {text:\"Termin je zauzet\", color: \"error\"});\n                \n                });\n            }\n        }\n        \n    }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DodelaSala.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DodelaSala.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DodelaSala.vue?vue&type=template&id=e4a78ec8&\"\nimport script from \"./DodelaSala.vue?vue&type=script&lang=js&\"\nexport * from \"./DodelaSala.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VDialog,VSelect,VSimpleTable,VTextField})\n"],"sourceRoot":""}