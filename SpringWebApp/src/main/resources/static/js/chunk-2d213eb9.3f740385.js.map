{"version":3,"sources":["webpack:///./src/views/lekar/ProfilPacijenta.vue?bb5c","webpack:///src/views/lekar/ProfilPacijenta.vue","webpack:///./src/views/lekar/ProfilPacijenta.vue?53e7","webpack:///./src/views/lekar/ProfilPacijenta.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","pacijent","email","password","ime","prezime","toStringAdresa","brojTelefona","jbo","staticStyle","attrs","headers","pregledi","scopedSlots","_u","key","fn","ref","item","formatDate","termin","pocetak","kraj","checkStart","on","$event","pocniPregled","id","staticRenderFns","name","data","methods","mounted","component","VBtn","VCard","VContainer","VDataTable","VSimpleTable"],"mappings":"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","file":"js/chunk-2d213eb9.3f740385.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"profilPacijenta\"},[_c('v-container',[_c('v-card',[_c('v-simple-table',[_c('thead',[_c('th',[_vm._v(\"Email adresa\")]),_c('th',[_vm._v(_vm._s(_vm.pacijent.email))])]),_c('tbody',[_c('tr',[_c('td',[_vm._v(\"Lozinka:\")]),_c('td',[_vm._v(_vm._s(_vm.pacijent.password))])]),_c('tr',[_c('td',[_vm._v(\"Ime:\")]),_c('td',[_vm._v(_vm._s(_vm.pacijent.ime))])]),_c('tr',[_c('td',[_vm._v(\"Prezime:\")]),_c('td',[_vm._v(_vm._s(_vm.pacijent.prezime))])]),_c('tr',[_c('td',[_vm._v(\"Adresa:\")]),_c('td',[_vm._v(_vm._s(_vm.toStringAdresa(_vm.pacijent)))])]),_c('tr',[_c('td',[_vm._v(\"Telefon:\")]),_c('td',[_vm._v(_vm._s(_vm.pacijent.brojTelefona))])]),_c('tr',[_c('td',[_vm._v(\"Jedinstveni broj osiguranika:\")]),_c('td',[_vm._v(_vm._s(_vm.pacijent.jbo))])])])])],1),_c('div',[_c('v-container',[_c('v-card',[_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"Istorija pregleda i operacija\")]),_c('h4',[_vm._v(_vm._s(_vm.pacijent.ime)+\" \"+_vm._s(_vm.pacijent.prezime))])]),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.pregledi,\"items-per-page\":10},scopedSlots:_vm._u([{key:\"item.termin.pocetak\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(_vm.formatDate(item.termin.pocetak)))]}},{key:\"item.termin.kraj\",fn:function(ref){\nvar item = ref.item;\nreturn [_vm._v(_vm._s(_vm.formatDate(item.termin.kraj)))]}},{key:\"item.actions\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('v-btn',{staticClass:\"mr-4\",attrs:{\"disabled\":_vm.checkStart(item),\"color\":\"success\"},on:{\"click\":function($event){return _vm.pocniPregled(item.id)}}},[_vm._v(\" Započni pregled \")])]}}])})],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"profilPacijenta\">\n    <v-container>\n      <v-card><v-simple-table>\n        <thead>\n          <th>Email adresa</th>\n          <th>{{ pacijent.email }}</th>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Lozinka:</td>\n            <td>{{ pacijent.password }}</td>\n          </tr>\n          <tr>\n            <td>Ime:</td>\n            <td>{{ pacijent.ime }}</td>\n          </tr>\n          <tr>\n            <td>Prezime:</td>\n            <td>{{ pacijent.prezime }}</td>\n          </tr>\n          <tr>\n            <td>Adresa:</td>\n            <td>{{ toStringAdresa(pacijent)}}</td>\n          </tr>\n          <tr>\n            <td>Telefon:</td>\n            <td>{{ pacijent.brojTelefona }}</td>\n          </tr>\n          <tr>\n            <td>Jedinstveni broj osiguranika:</td>\n            <td>{{ pacijent.jbo }}</td>\n          </tr>\n        </tbody>\n      </v-simple-table>\n      </v-card>\n      <div>\n        <v-container>\n          <v-card><h2 style=\"text-align:center\">Istorija pregleda i operacija</h2>\n          <h4>{{ pacijent.ime }} {{ pacijent.prezime }}</h4></v-card>\n          <v-data-table\n            :headers=\"headers\"\n            :items=\"pregledi\"\n            :items-per-page=\"10\"\n            class=\"elevation-1\">\n            <template v-slot:item.termin.pocetak=\"{ item }\">{{ formatDate(item.termin.pocetak)}}</template>\n            <template v-slot:item.termin.kraj=\"{ item }\">{{ formatDate(item.termin.kraj)}}</template>\n            <template v-slot:item.actions=\"{ item }\">\n              <v-btn\n                :disabled=\"checkStart(item)\"\n                color=\"success\"\n                class=\"mr-4\"\n                @click=\"pocniPregled(item.id)\"\n              >\n                Započni pregled\n              </v-btn>\n              \n            </template>\n          </v-data-table>\n        </v-container>\n      </div>\n    </v-container>\n  </div>\n</template>\n\n<script>\n\nimport moment from 'moment';\nimport axios from 'axios';  \nexport default {\n  name: 'RNG',\n  data: () => ({\n    pacijent : {},\n    pregledi: [],\n    headers: [\n        {\n          text: 'Id',\n          sortable: true,\n          value: 'id',\n        },\n        {\n          text: 'Opis', \n          value: 'opis', \n          sortable: true, \n        },\n        {\n          text: 'Sala', \n          value: 'sala.naziv', \n          sortable: true, \n        },\n        {\n          text: 'Pocetak', \n          value: 'termin.pocetak', \n          sortable: true, \n        },\n        {\n          text: 'Kraj', \n          value: 'termin.kraj', \n          sortable: true, \n        },\n        {\n          text: '',\n          value: 'actions',\n          sortable: false\n        }\n      ]\n  }),\n  methods:{\n    toStringAdresa:function(p){\n        return p.adresa.adresa+ \", \" + p.adresa.grad + \", \" + p.adresa.drzava;\n      },\n    checkStart: function(pregled){\n        let trenutno = new Date(Date.now() + 5 * 60000);\n        if(new Date(pregled.termin.pocetak) <= trenutno){\n            return false;\n        }\n        return true;\n    },\n    pocniPregled: function(idPregleda){\n        console.log(this.$store.state.ulogovan);\n        axios\n          .post('lekar/pocetak/' + idPregleda, this.$store.state.ulogovan)\n          .then(response => {\n              console.log(response.data);\n              var provera = response.data;\n              if(provera.zapocni){\n                this.$router.push(\"/pregled/\"+ idPregleda);\n              }\n          })    \n          .catch((err) => { \n            this.$store.commit(\"setSnackbar\", {text:\"Započinjanje pregleda nije dostupno\", color: \"error\"});\n            console.log(err);\n          });\n    },\n    \n    \n    formatDate(value) {\n\t\t\treturn moment(String(value)).format('DD.MM.YYYY. HH:mm');\n\t\t},\n  },\n  mounted () {\n    axios\n      .get('api/pacijent/' + this.$route.params.id)\n      .then(response => {\n          this.pacijent = response.data;\n          this.pacijent.adresa = this.toStringAdresa(this.pacijent);\n      })    \n      .catch((err) => { \n        console.log(err);\n        this.pacijent = {\"id\":2,\"ime\":\"Hermione\",\"prezime\":\"Granger\",\"password\":\"hermione12345\",\"brojTelefona\":\"065/123-111\",\"jbo\":\"0101\",\"email\":\"hermione@gmail.com\",\"tip\":\"PACIJENT\",\"adresa\":{\"id\":2,\"drzava\":\"Bugarska\",\"grad\":\"Vidin\",\"adresa\":\"Svetozara Markovskog 44\"},\"allowed\":true,\"responded\":true,\"zdravstveniKarton\":{\"id\":1,\"visina\":1.6,\"tezina\":60.0,\"krvnaGrupa\":\"A+\",\"dijagnoza\":[{\"sifraDijagnoze\":1,\"nazivDijagnoze\":\"Covid-19\"}],\"hibernateLazyInitializer\":{},\"iteratorDijagnoza\":[{\"sifraDijagnoze\":1,\"nazivDijagnoze\":\"Covid-19\"}]}};\n        });\n    \n    axios\n      .get('poseta/predstojeciPregledi/' + this.$route.params.id)\n      .then(response => {\n          this.pregledi = response.data;\n      })    \n      .catch((err) => { console.log(err);\n        this.pregledi = [{\"id\":5,\"opis\":\"Bad dream\",\"termin\":\n        {\"id\":5,\"pocetak\":\"2020-05-20T08:00:00.000+0000\",\"kraj\":\"2020-05-20T09:00:00.000+0000\"},\"tip\":{\"id\":1,\"tip\":\"pregled\",\"naziv\":\"Super specijalni pregled\"},\"sala\":{\"id\":1,\"naziv\":\"sala 1\"}},\n        {\"id\":6,\"opis\":\"Krvarenje desni\",\"termin\":{\"id\":6,\"pocetak\":\"2020-05-19T17:18:37.692+0000\",\"kraj\":\"2020-05-19T17:00:37.692+0000\"},\"tip\":{\"id\":1,\"tip\":\"pregled\",\"naziv\":\"Super specijalni pregled\"},\"sala\":{\"id\":2,\"naziv\":\"operaciona\"}}];\n      });\n      \n\n    \n  }\n}\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilPacijenta.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilPacijenta.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProfilPacijenta.vue?vue&type=template&id=64e765be&\"\nimport script from \"./ProfilPacijenta.vue?vue&type=script&lang=js&\"\nexport * from \"./ProfilPacijenta.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDataTable } from 'vuetify/lib/components/VDataTable';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VBtn,VCard,VContainer,VDataTable,VSimpleTable})\n"],"sourceRoot":""}